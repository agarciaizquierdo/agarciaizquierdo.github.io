---
layout: post
title: VIRTUALIZAR SERVIDORES ANTIGUOS Y USAR TERMINAL SERVER WINDOWS 2008
date: 2010-09-24 09:59
author: agarciaizquierdo
comments: true
categories: [NT4, Sin categoría, TERMINAL SERVER, VMWARE, WINDOWS 2008]
---
<div class="separator" style="clear:both;text-align:center;"><a href="https://alvarogarciahome.files.wordpress.com/2010/09/f90b6-terminal.jpg" style="clear:right;float:right;margin-bottom:1em;margin-left:1em;"><img border="0" height="200" src="https://alvarogarciahome.files.wordpress.com/2010/09/f90b6-terminal.jpg?w=204" width="200" /></a></div>Buenas, en este post os voy a comentar la instalación de un terminal server en windows 2008 y las ventajas que ami me ha traído.<br /><br />Con la aparaicion de windows vista y 7, ambos bastante bien preparados para hardware 64 bits, se ha disparado la venta de versiones de estos en 64 bits, cual es el problema? tengo bastantes clientes con aplicaciones antiguas o pesonalizadas que corren en windows nt o windows 2000 server, y si ya es un milagro que funcionen en vista (algunas no lo hacen) que funcionen en 64 bit ya es del todo imposible. Asi que en muchos clientes me encuentro con servidores donde corren estas aplicaciones realmente antiguos, algunos incluso son equipo anteriores al pentium, o de los primeros pentium que salieron al mercado, y claro mi primera "imposición" suele ser la de migrar, como es normal en la mayoria de los clientes no tienen los sistemas operativos, cds de instalacion de la aplicacion, no saben como funciona, eso lo llevaba mi antiguo jefe que se jubilo, que si la abuela fuma....en fin que estamos ante la tipica situacion de algo que siempre ha funcionado, nadie se ha atrevido a tocar, y si un se estropea el disco duro, la placa o lo que sea, cruzar los dedos y que el jefe tenga un buen dia. Asi que lo primero que suelo hacer en estos casos es virtualizar el servidor, esto nos soluciona marrones de que aquel servidor/equipo mas digno de un museo, que de un CPD, nos deje "con el culo al aire".<br /><br />Asi que le metemos mano al asunto y virtualizamos el servidor, he de reconocer que el tema de los drivers de red con nt4 me ha dado la lata bastante, pero gracias a los chicos de vmware tenemos un procedimiento que nunca me ha fallado de como instalar a mano los driver (<a href="http://communities.vmware.com/message/1526203#1526203">http://communities.vmware.com/message/1526203#1526203</a>) en este post se explica como hacerlo.<br /><br />Bueno, y una ved virtualizado nuestro servidor, tenemos la mitad del trabajo hecho. Ahora nos queda publicarlo en un servidor, yo en mis últimos casos lo he publicado en un windows 2008 32 bit, esto es bastante importante ya que la mayoria de los poiblemas me vienen deribados de versiones 64 bits, asi que lo publico desde una version 32.<br /><br />Bueno llegado a este punto y dando por hecho que tenemos ya instalado nuestro sistema operativo. Nos vamos a server manager  y añadimos un rol:<br /><br /><div class="separator" style="clear:both;text-align:center;"><a href="https://alvarogarciahome.files.wordpress.com/2010/09/474e4-servermanager.jpg" style="margin-left:1em;margin-right:1em;"><img border="0" height="232" src="https://alvarogarciahome.files.wordpress.com/2010/09/474e4-servermanager.jpg?w=294" width="400" /></a></div><div class="separator" style="clear:both;text-align:center;"><br /></div><div class="separator" style="clear:both;text-align:left;">Añadimos el rol de terminal server, debo de decir que en la version 2008 R2 me he encontrado que esto se llama servicios de escritorio remoto. Aqui seleccionamos lo que nos interese instalar, depende mucho de la instalacion que estemos implementando.</div><div class="separator" style="clear:both;text-align:left;"><br /></div><div class="separator" style="clear:both;text-align:left;">Os explico un poco als opciones que tenemos:</div><div class="separator" style="clear:both;text-align:left;"></div><ul><li>Terminal server, este es el servicio, implescindible</li><li>TS licencing: Este es el que controla las licencias, puede instalarse donde queramos, no tiene que ser el servidor de terminal propiamente, cuando este instalado tendremos que activarlo y luego ya le meteremos las licencias</li><li>TS session broker: Este es quien controla el acceso al terminal server, se puede dar alta disponibilidad mediante NLB, por si se nos cae uno seguir dando el servicio.</li><li>TS Gateway:  Esta opcion es muy interesante, ya que nos da la posibilidad de conectarnos desde fuera de la red a la oficina, ideal para usuarios remotos a los que no queramos darles acceso a la VPN. Ademas no es necesario tenerlo en el mismo equipo, que el TS</li><li>TS Web Acccess: Esta es una funcion mediante la cual podemos publicar via web las aplicaciones, simplemente podemos en nuestro navegador http://nombreservidor/ts y nos aparecen las aplicaciones a als que el usuario tiene acceso.</li></ul><br /><ul></ul><div>Seleccionamos lo que corresponda en cada caso, nos pedirá instalar componentes adicionales como IIS...le decimos que queremos agregar los componentes y a funcionar! Una cosa que no ha variado con el cambio de 2003 a 2008 ha sido el tener que reiniciar, reiniciamos y al volver a a arrancar terminara la instalacion. Y lsito, ya tenemos nuestro servidor de terminal server instalado!<br /><br />Ahora solo nos queda publicar nuestra famosa aplicación en NT que no ha dado tanto la lata!<br /><br />Vamos al server manager y seleccionames el rol:<br /><br /><div class="separator" style="clear:both;text-align:center;"><a href="https://alvarogarciahome.files.wordpress.com/2010/09/96936-ts.jpg" style="margin-left:1em;margin-right:1em;"><img border="0" height="110" src="https://alvarogarciahome.files.wordpress.com/2010/09/96936-ts.jpg?w=300" width="400" /></a></div><br />Seleccionamos TSremoteapp manager, luego en el panel de la derecha, acciones, seleccionamos add remoteapp programs y ya seguimos un fácil wizard, donde seleccionamos aplicación, donde la queremos instalar en los clientes, y la forma de publicarla. Y ahora nos tocaría elegir la forma de publicarla, esto depende del cliente, pero siempre esta la opciones de hacerlo por una GPO, vía web pos nuestro web server....a gusto del consumidor.</div>
